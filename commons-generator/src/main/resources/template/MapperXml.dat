<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="{PACKAGE_NAME}{DOMAIN}.dao.{EventName}Dao">

    <!--基本字段定义 -->
    <sql id="base_column">
//--Field|Primitive:        {FIELDNAME},
    </sql>

    <!--按主键进行查询，返回唯一一条记录 对应repository findOne方法 -->
    <select id="findOne"  resultType="cn.com.hyun.{DOMAIN}.dto.{EventName}Dto">
        SELECT 
            <include refid="base_column" />
        FROM 
            {TableName}
        WHERE
            {KEYFIELD} = #{{KEYFIELDMETHODNAME}}
    </select>
 
//--Method|mulitiKey:    <!--按主键进行查询，返回唯一一条记录 对应dao find{EventName}ByKeys方法 -->|    <select id="find{EventName}ByKeys" resultType="{EventName}">|        SELECT|            <include refid="base_column" />|        FROM|            {TableName}|        WHERE|            {WHEREKEY}|    </select>
 
//--Method|find:    <!--按主键进行查询，返回唯一一条记录 对应dao find{EventName}By{BPKEY}方法 -->|    <select id="find{EventName}By{BPKEYM}" parameterType="string" resultType="{EventName}">|        SELECT|            <include refid="base_column" />|        FROM|            {TableName}|        WHERE|            {DBBPKEY} = #{{BPKEY}}|    </select>

    <!--无条件全部记录检索 对应repository findAll方法 -->
    <select id="findAll" resultType="cn.com.hyun.{DOMAIN}.dto.{EventName}Dto">
        SELECT 
            <include refid="base_column" />
        FROM 
            {TableName}
    </select>


    <!--插入记录 对应repository insert方法 -->
    <insert id="insert" useGeneratedKeys="true" keyProperty="id" parameterType="cn.com.hyun.{DOMAIN}.entity.{EventName}">
        INSERT INTO
            {TableName}
        (
//--Field|Primitive:          {FIELDNAME},
        )
        VALUES
        (
//--Method|insertValue:          #{{FIELDMETHODNAME}},
        )
    </insert>

    <!--动态更新 对Input来的数据不为空的字段进行更新 对应Dao dynamicUpdate方法 -->
    <update id="dynamicUpdate" parameterType="cn.com.hyun.{DOMAIN}.entity.{EventName}">
        UPDATE
            {TableName}
        <set>
//--Method|dynamicUpdate:            <if test="{FIELDMETHODNAME} != null">|                {FIELDNAME} = #{{FIELDMETHODNAME}},|            </if>
        </set>
        WHERE
//--Method|dynamicUpdateWhere:            {WHEREKEY}
    </update>

    <!--动态更新 按照实体的值实际数据进行更新对应Dao update方法 -->
    <update id="update" parameterType="cn.com.hyun.{DOMAIN}.entity.{EventName}">
        UPDATE
            {TableName}
        SET
//--Method|update:            {FIELDNAME} = #{{FIELDMETHODNAME}},
        WHERE
//--Method|updateWhere:            {WHEREKEY}
    </update>
    
    <!--删除 对应Dao delete方法 -->    
    <delete id="delete" >
        DELETE FROM 
            {TableName}
        WHERE
//--Method|deleteWhere:            {WHEREKEY}
    </delete>
</mapper>